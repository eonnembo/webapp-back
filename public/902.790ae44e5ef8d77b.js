"use strict";(self.webpackChunksistema=self.webpackChunksistema||[]).push([[902],{2902:(N,h,i)=>{i.r(h),i.d(h,{ProtectedModule:()=>P});var l=i(6895),m=i(4154),t=i(8256),f=i(629),x=i(4445),v=i(7154),y=i(8741),b=i(6526);function Z(e,g){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij("$",o.sumaPagos,"")}}function A(e,g){1&e&&(t.TgZ(0,"span"),t._uU(1,"****"),t.qZA())}function C(e,g){if(1&e&&(t.TgZ(0,"span",26),t._uU(1),t._UZ(2,"br"),t.qZA()),2&e){const o=g.$implicit;t.xp6(1),t.AsE(" ",o.nombre," ",o.apellido,"")}}const c=function(){return{width:"2.5rem",height:"2.5rem"}},M=[{path:"",children:[{path:"",component:(()=>{class e{get usuario(){return this.authService.usuario}constructor(o,r,n,a){this.router=o,this.authService=r,this.clienteService=n,this.pagoService=a,this.isMontoVisible=!0,this.currentDate=new Date,this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.currentMonthName=this.monthNames[this.currentDate.getMonth()],this.currentMonth=this.currentDate.getMonth()+1,this.currentDay=this.currentDate.getDate()}ngOnInit(){this.clienteService.traerClientes().subscribe(n=>{if(Array.isArray(n)){this.totClientes=n.length,this.totCliActivos=n.filter(s=>s.estado).length,this.totCliInactivos=n.filter(s=>!s.estado).length;const a=n.map(s=>({...s,fechaNacimiento:new Date(s.fechaNacimiento)}));this.clientesCumpleanosHoy=a.filter(s=>{const u=s.fechaNacimiento;return u.getMonth()+1===this.currentMonth&&u.getDate()+1===this.currentDay})}}),this.pagoService.traerPagos().subscribe(n=>{if(Array.isArray(n)){const a=new Date,s=a.getMonth()+1,u=a.getFullYear(),S=n.filter(p=>{const d=new Date(p.updatedAt);return d.getMonth()+1===s&&d.getFullYear()===u}).reduce((p,d)=>p+d.importe,0);this.sumaPagos=S}});const o=getComputedStyle(document.documentElement),r=o.getPropertyValue("--text-color");this.data={labels:["Activos","Inactivos","Deudores"],datasets:[{data:[300,50,100],backgroundColor:[o.getPropertyValue("--blue-500"),o.getPropertyValue("--yellow-500"),o.getPropertyValue("--green-500")],hoverBackgroundColor:[o.getPropertyValue("--blue-400"),o.getPropertyValue("--yellow-400"),o.getPropertyValue("--green-400")]}]},this.options={cutout:"50%",plugins:{legend:{labels:{color:r}}}}}toggleMontoVisibility(){this.isMontoVisible=!this.isMontoVisible}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(m.F0),t.Y36(f.e),t.Y36(x.$),t.Y36(v.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:60,vars:18,consts:[[1,"card"],[1,"grid","m-0","p-0"],[1,"col-12","md:col-6","sm:col-12","lg:col-6","p-2","m-0"],[1,"card","card-small"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-thumbs-up","text-cyan-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-red-100","border-round",3,"ngStyle"],[1,"pi","pi-thumbs-down","text-red-500","text-xl"],[1,"text-900","font-medium","text-xl","flex","align-items-center"],[4,"ngIf"],[1,"text-green-500","text-xl","ml-2","cursor-pointer",3,"ngClass","click"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-green-500","text-xl"],[1,"text-green-500","font-medium"],[1,"col-12","md:col-12","sm:col-12","lg:col-6","p-2","m-0"],[1,"card","relative"],[1,"block","text-500","font-medium","mb-0"],[1,"block","text-500","font-medium","mt-0"],["src","/assets/images/torta.png","alt","Torta de cumplea\xf1os",2,"opacity","0.1","width","100%","max-width","200px","margin","0 auto"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-orange-400","font-medium"],["style","text-shadow: 1px 1px 2px black",4,"ngFor","ngForOf"],[2,"text-shadow","1px 1px 2px black"]],template:function(r,n){1&r&&(t._UZ(0,"app-tool-bar"),t.TgZ(1,"h1"),t._uU(2,"Dashboard"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div")(10,"span",5),t._uU(11,"Clientes"),t.qZA(),t.TgZ(12,"div",6),t._uU(13),t.qZA()(),t.TgZ(14,"div",7),t._UZ(15,"i",8),t.qZA()()()(),t.TgZ(16,"div",2)(17,"div",3)(18,"div",4)(19,"div")(20,"span",5),t._uU(21,"Activos"),t.qZA(),t.TgZ(22,"div",6),t._uU(23),t.qZA()(),t.TgZ(24,"div",9),t._UZ(25,"i",10),t.qZA()()()(),t.TgZ(26,"div",2)(27,"div",3)(28,"div",4)(29,"div")(30,"span",5),t._uU(31,"Inactivos"),t.qZA(),t.TgZ(32,"div",6),t._uU(33),t.qZA()(),t.TgZ(34,"div",11),t._UZ(35,"i",12),t.qZA()()()(),t.TgZ(36,"div",2)(37,"div",3)(38,"div",4)(39,"div")(40,"span",5),t._uU(41,"Total"),t.qZA(),t.TgZ(42,"div",13),t.YNc(43,Z,2,1,"span",14),t.YNc(44,A,2,0,"span",14),t.TgZ(45,"i",15),t.NdJ("click",function(){return n.toggleMontoVisibility()}),t.qZA()()(),t.TgZ(46,"div",16),t._UZ(47,"i",17),t.qZA()(),t.TgZ(48,"span",18),t._uU(49),t.qZA()()(),t.TgZ(50,"div",19)(51,"div",20)(52,"span",21),t._uU(53,"\xa1Cumplea\xf1os de hoy!"),t.qZA(),t.TgZ(54,"span",22),t._uU(55),t.qZA(),t._UZ(56,"img",23),t.TgZ(57,"span",24),t.YNc(58,C,3,2,"span",25),t.qZA()()()()(),t._UZ(59,"app-footer")),2&r&&(t.xp6(13),t.Oqu(n.totClientes),t.xp6(1),t.Q6J("ngStyle",t.DdM(14,c)),t.xp6(9),t.Oqu(n.totCliActivos),t.xp6(1),t.Q6J("ngStyle",t.DdM(15,c)),t.xp6(9),t.Oqu(n.totCliInactivos),t.xp6(1),t.Q6J("ngStyle",t.DdM(16,c)),t.xp6(9),t.Q6J("ngIf",!n.isMontoVisible),t.xp6(1),t.Q6J("ngIf",n.isMontoVisible),t.xp6(1),t.Q6J("ngClass",n.isMontoVisible?"pi pi-eye":"pi pi-eye-slash"),t.xp6(1),t.Q6J("ngStyle",t.DdM(17,c)),t.xp6(3),t.hij("Mes de ",n.currentMonthName,""),t.xp6(6),t.AsE("",n.currentDay," de ",n.currentMonthName,""),t.xp6(3),t.Q6J("ngForOf",n.clientesCumpleanosHoy))},dependencies:[l.mk,l.sg,l.O5,l.PC,y.o,b.c],styles:["*[_ngcontent-%COMP%]{margin:15px}.card[_ngcontent-%COMP%]{border:1px solid var(--surface-border);border-radius:12px;padding:2rem;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.card-small[_ngcontent-%COMP%]{max-height:230px!important}.card-content[_ngcontent-%COMP%]{margin:15px}"]})}return e})()},{path:"**",redirectTo:"auth"}]}];let D=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(M),m.Bz]})}return e})();var T=i(4466),U=i(6867);let P=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[l.ez,D,T.m,U.g]})}return e})()}}]);