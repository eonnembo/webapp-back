"use strict";(self.webpackChunksistema=self.webpackChunksistema||[]).push([[902],{2902:(P,p,i)=>{i.r(p),i.d(p,{ProtectedModule:()=>M});var u=i(6895),m=i(4154),t=i(8256),h=i(629),v=i(4445),f=i(7154),x=i(8741),y=i(6526);function Z(n,T){if(1&n&&(t.TgZ(0,"span",23),t._uU(1),t._UZ(2,"br"),t.qZA()),2&n){const o=T.$implicit;t.xp6(1),t.AsE(" ",o.nombre," ",o.apellido,"")}}const c=function(){return{width:"2.5rem",height:"2.5rem"}},b=[{path:"",children:[{path:"",component:(()=>{class n{get usuario(){return this.authService.usuario}constructor(o,r,e,s){this.router=o,this.authService=r,this.clienteService=e,this.pagoService=s,this.currentDate=new Date,this.monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.currentMonthName=this.monthNames[this.currentDate.getMonth()],this.currentMonth=this.currentDate.getMonth()+1,this.currentDay=this.currentDate.getDate()}ngOnInit(){this.clienteService.traerClientes().subscribe(e=>{if(Array.isArray(e)){this.totClientes=e.length,this.totCliActivos=e.filter(a=>a.estado).length,this.totCliInactivos=e.filter(a=>!a.estado).length;const s=e.map(a=>({...a,fechaNacimiento:new Date(a.fechaNacimiento)}));this.clientesCumpleanosHoy=s.filter(a=>{const l=a.fechaNacimiento;return l.getMonth()+1===this.currentMonth&&l.getDate()+1===this.currentDay})}}),this.pagoService.traerPagos().subscribe(e=>{if(Array.isArray(e)){const s=new Date,a=s.getMonth()+1,l=s.getFullYear(),U=e.filter(g=>{const d=new Date(g.updatedAt);return d.getMonth()+1===a&&d.getFullYear()===l}).reduce((g,d)=>g+d.importe,0);this.sumaPagos=U}});const o=getComputedStyle(document.documentElement),r=o.getPropertyValue("--text-color");this.data={labels:["Activos","Inactivos","Deudores"],datasets:[{data:[300,50,100],backgroundColor:[o.getPropertyValue("--blue-500"),o.getPropertyValue("--yellow-500"),o.getPropertyValue("--green-500")],hoverBackgroundColor:[o.getPropertyValue("--blue-400"),o.getPropertyValue("--yellow-400"),o.getPropertyValue("--green-400")]}]},this.options={cutout:"50%",plugins:{legend:{labels:{color:r}}}}}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(m.F0),t.Y36(h.e),t.Y36(v.$),t.Y36(f.e))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:58,vars:16,consts:[[1,"card"],[1,"grid","m-0","p-0"],[1,"col-12","md:col-6","sm:col-6","lg:col-3","p-2","m-0"],[1,"card","card-small"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-thumbs-up","text-cyan-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-red-100","border-round",3,"ngStyle"],[1,"pi","pi-thumbs-down","text-red-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-green-500","text-xl"],[1,"text-green-500","font-medium"],[1,"col-12","md:col-12","sm:col-12","lg:col-6","p-2","m-0"],[1,"card","relative"],[1,"block","text-500","font-medium","mb-0"],[1,"block","text-500","font-medium","mt-0"],["src","/assets/images/torta.png","alt","Torta de cumplea\xf1os",2,"opacity","0.1","width","100%","max-width","200px","margin","0 auto"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-orange-400","font-medium"],["style","text-shadow: 1px 1px 2px black",4,"ngFor","ngForOf"],[2,"text-shadow","1px 1px 2px black"]],template:function(r,e){1&r&&(t._UZ(0,"app-tool-bar"),t.TgZ(1,"h1"),t._uU(2,"Dashboard"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"div",0)(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div")(10,"span",5),t._uU(11,"Clientes"),t.qZA(),t.TgZ(12,"div",6),t._uU(13),t.qZA()(),t.TgZ(14,"div",7),t._UZ(15,"i",8),t.qZA()()()(),t.TgZ(16,"div",2)(17,"div",3)(18,"div",4)(19,"div")(20,"span",5),t._uU(21,"Activos"),t.qZA(),t.TgZ(22,"div",6),t._uU(23),t.qZA()(),t.TgZ(24,"div",9),t._UZ(25,"i",10),t.qZA()()()(),t.TgZ(26,"div",2)(27,"div",3)(28,"div",4)(29,"div")(30,"span",5),t._uU(31,"Inactivos"),t.qZA(),t.TgZ(32,"div",6),t._uU(33),t.qZA()(),t.TgZ(34,"div",11),t._UZ(35,"i",12),t.qZA()()()(),t.TgZ(36,"div",2)(37,"div",3)(38,"div",4)(39,"div")(40,"span",5),t._uU(41,"Total"),t.qZA(),t.TgZ(42,"div",6),t._uU(43),t.qZA()(),t.TgZ(44,"div",13),t._UZ(45,"i",14),t.qZA()(),t.TgZ(46,"span",15),t._uU(47),t.qZA()()(),t.TgZ(48,"div",16)(49,"div",17)(50,"span",18),t._uU(51,"\xa1Cumplea\xf1os de hoy!"),t.qZA(),t.TgZ(52,"span",19),t._uU(53),t.qZA(),t._UZ(54,"img",20),t.TgZ(55,"span",21),t.YNc(56,Z,3,2,"span",22),t.qZA()()()()(),t._UZ(57,"app-footer")),2&r&&(t.xp6(13),t.Oqu(e.totClientes),t.xp6(1),t.Q6J("ngStyle",t.DdM(12,c)),t.xp6(9),t.Oqu(e.totCliActivos),t.xp6(1),t.Q6J("ngStyle",t.DdM(13,c)),t.xp6(9),t.Oqu(e.totCliInactivos),t.xp6(1),t.Q6J("ngStyle",t.DdM(14,c)),t.xp6(9),t.hij("$",e.sumaPagos,""),t.xp6(1),t.Q6J("ngStyle",t.DdM(15,c)),t.xp6(3),t.hij("Mes de ",e.currentMonthName,""),t.xp6(6),t.AsE("",e.currentDay," de ",e.currentMonthName,""),t.xp6(3),t.Q6J("ngForOf",e.clientesCumpleanosHoy))},dependencies:[u.sg,u.PC,x.o,y.c],styles:["*[_ngcontent-%COMP%]{margin:15px}.card[_ngcontent-%COMP%]{border:1px solid var(--surface-border);border-radius:12px;padding:2rem;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.card-small[_ngcontent-%COMP%]{max-height:230px!important}.card-content[_ngcontent-%COMP%]{margin:15px}"]})}return n})()},{path:"**",redirectTo:"auth"}]}];let A=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(b),m.Bz]})}return n})();var C=i(4466),D=i(6867);let M=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[u.ez,A,C.m,D.g]})}return n})()}}]);